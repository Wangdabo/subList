<!-- 样式-->
<style>
    table tr th, table tr td { border:1px solid #ccc; height: 30px;line-height: 30px}
</style>

<pro-header></pro-header>

<!--引入list组件-->
<nz-card [nzBordered]="false">
    <!--  form表单搜索 -->
   
    <!--列表组件-->

    <app-list #child [initDate]="data" [configTitle]="configTitle"  [showAdd]="showAdd" [isPagination]="isPagination"  [buttons] ='buttons' (addCreat)="addHandler($event)" (buttonData)="buttonDataHandler($event)" (pageNumber)="monitorHandler($event)"
              (deleatData)="deleatData($event)" (isActive)="isActive($event)" (buttonEvent)="buttonEvent($event)"  [headerDate]="headerDate"
              [moreData]="moreData" [total]="total" [isShowTotal]="isShowTotal" [pageTotal] = 'pageTotal'></app-list>
</nz-card>

<nz-modal [nzVisible]="detailsVisible"  [nzWidth]="800" [nzTitle]="ptitle"  [nzConfirmLoading]="false" [nzContent]="mergeModal"
          (nzOnCancel)="detailsVisible=false" [nzFooter]="is">
    <ng-template #mergeModal>
        <form nz-form (ngSubmit)="addsubmit()" [nzLayout]="'inline'">
            <div nz-row [nzGutter]="24">

                <div  nz-col [nzSpan]="24" class="mb-md">
                    <div nz-form-item class="d-flex">
                        <div nz-form-label nz-col [nzSpan]="8" ><label for="status">分支类型</label></div>
                        <div nz-form-control class="flex-1">
                           <nz-select style="width:100%;" [(ngModel)]="branch.branchType"  [nzMode]="default" name="branch" nzId="branch" [nzPlaceHolder]="'开发分支'" [nzShowSearch]="true" [nzSize]="'large'">
                            <nz-option *ngFor="let i of branchType; let idx = index" [nzLabel]="i.key" [nzValue]="i.value"></nz-option>
                        </nz-select>
                        </div>
                    </div>
                </div>

                <div nz-col [nzSpan]="24" class="mb-md">
                    <div nz-form-item class="d-flex">
                        <div nz-form-label nz-col [nzSpan]="8"><label for="name">分支全路径</label></div>
                        <div nz-form-control class="flex-1">
                            <nz-input [(ngModel)]="branch.fullPath" name="fullPath"  (nzBlur)="checkversion(branch.fullPath)" type='url' aria-required="true" [nzSize]="'large'" [nzPlaceHolder]="'工程名称'" nzId="fullPath"></nz-input>
                        </div>
                    </div>
                </div>

                <div nz-col [nzSpan]="24" class="mb-md">
                    <div nz-form-item class="d-flex">
                        <div nz-form-label nz-col [nzSpan]="8"><label for="name">分支作用说明</label></div>
                        <div nz-form-control class="flex-1">
                            <textarea rows="6"  nz-input [(ngModel)]="branch.branchFor"  nzRequired  nzId="branchFor" [ngModelOptions]="{standalone: true}" ></textarea>
                        </div>
                    </div>
                </div>

                <div nz-col [nzSpan]="24" class="mb-md">
                    <div nz-form-item class="d-flex">
                        <div nz-form-label nz-col [nzSpan]="8"><label for="name">分支起始版本</label></div>
                
                       <nz-input-number  [(ngModel)]="branch.lastVersion"  name="lastVersion"  [nzSize]="large"  [nzMin]="1" [nzStep]="1" nzId="lastVersion"></nz-input-number>
                    </div>
                </div>

                <div nz-col [nzSpan]="24" class="mb-md" [class.text-right]="expandForm">
                    <button nz-button type="submit" [nzType]="'primary'" [nzSize]="'large'">确定</button>
                    <button nz-button type="reset" (click)="detailsVisible=false" [nzSize]="'large'" class="mx-sm">取消</button>
                </div>
            </div>
        </form>
    </ng-template>
</nz-modal>